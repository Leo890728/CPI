<!DOCTYPE html>
<html lang="zh-TW">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>台灣電力消費者物價指數(CPI)</title>
    <link rel="stylesheet" href="stylesheets/style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body>
    <div class="container">
        <!-- 標題區域 -->
        <header class="header">
            <h1>台灣電力消費者物價指數(CPI)</h1>
            <p class="subtitle">基於台灣電力公司歷史售電統計資料</p>
        </header>

        <!-- 控制面板 -->
        <div class="control-panel">
            <div class="control-panel-grid">
                <!-- 時間設定區域 -->
                <div class="control-section">
                    <h4>📅 時間範圍</h4>
                    <div class="control-group">
                        <select id="timeRange">
                            <option value="full">完整期間 (1951-2024)</option>
                            <option value="20years">近20年 (2005-2024)</option>
                            <option value="10years">近10年 (2015-2024)</option>
                            <option value="5years">近5年 (2020-2024)</option>
                            <option value="custom">自訂範圍</option>
                        </select>
                    </div>
                </div>

                <!-- 圖表設定區域 -->
                <div class="control-section">
                    <h4>📊 圖表類型</h4>
                    <div class="control-group">
                        <select id="chartType">
                            <option value="line">折線圖</option>
                            <option value="bar">柱狀圖</option>
                            <option value="area">面積圖</option>
                        </select>
                    </div>
                </div>

                <!-- 自訂時間範圍 -->
                <div class="control-section custom-range" id="customRange" style="display: none;">
                    <h4>自訂時間範圍</h4>
                    <div class="date-inputs">
                        <div class="control-group">
                            <label for="startYear">起始年份</label>
                            <input type="number" id="startYear" min="1951" max="2024" value="1951">
                        </div>
                        <div class="date-separator">→</div>
                        <div class="control-group">
                            <label for="endYear">結束年份</label>
                            <input type="number" id="endYear" min="1951" max="2024" value="2024">
                        </div>
                    </div>
                    <div class="range-indicator">
                        <span id="rangeDisplay">期間：1951 - 2024 (共 74 年)</span>
                    </div>
                </div>
            </div>

            <!-- 操作按鈕區域 -->
            <div class="button-section">
                <div class="btn-group">
                    <button id="updateChart" class="btn-primary">🔄 更新圖表</button>
                </div>
                <div class="btn-group">
                    <button id="exportChart" class="btn-secondary">📊 導出圖表</button>
                    <button id="fullscreenChart" class="btn-secondary">🔍 全螢幕檢視</button>
                </div>
            </div>
        </div>

        <!-- 統計面板 -->
        <div class="stats-panel">
            <div class="stat-card">
                <h3>最新CPI指數</h3>
                <div class="stat-value" id="latestCPI">載入中...</div>
                <div class="stat-label">基期年: <span id="baseYear">--</span></div>
            </div>
            <div class="stat-card">
                <h3>平均年增率</h3>
                <div class="stat-value" id="yearOverYearRate">載入中...</div>
                <div class="stat-label">所選期間平均</div>
            </div>
            <div class="stat-card">
                <h3>期間平均CPI</h3>
                <div class="stat-value" id="avgCPI">載入中...</div>
                <div class="stat-label">選定期間平均值</div>
            </div>
            <div class="stat-card">
                <h3>總變化率</h3>
                <div class="stat-value" id="totalChange">載入中...</div>
                <div class="stat-label">期間總變化</div>
            </div>
        </div>

        <!-- 圖表容器 -->
        <div class="chart-container">
            <canvas id="cpiChart"></canvas>
        </div>

        <!-- 資訊面板 -->
        <div class="info-panel">
            <div class="info-card">
                <h3>最新電價資訊</h3>
                <div class="info-content">
                    <p>最新電價: <span id="latestPrice">載入中...</span> 元/度</p>
                    <p>資料年份: <span id="latestYear">--</span></p>
                </div>
            </div>
            <div class="info-card">
                <h3>期間統計</h3>
                <div class="info-content">
                    <p>最高CPI: <span id="maxCPI">載入中...</span></p>
                    <p>最低CPI: <span id="minCPI">載入中...</span></p>
                </div>
            </div>
        </div>

    </div>

    <script src="javascripts/main.js"></script>
</body>
</html>
